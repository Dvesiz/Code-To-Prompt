# 🔧 Web 界面故障排除

## 常见问题

### 问题 1: 选择文件夹后没有反应

**可能原因：**
- 浏览器不支持文件夹选择
- 选择的文件夹为空
- 所有文件都被过滤掉了

**解决方案：**
1. 使用 Chrome、Edge 或 Firefox 浏览器
2. 确保文件夹包含文件
3. 检查文件类型过滤设置
4. 打开浏览器控制台（F12）查看错误信息

### 问题 2: 显示 "没有找到符合条件的文件"

**可能原因：**
- 文件类型过滤设置不正确
- 所有文件都被 .gitignore 规则排除

**解决方案：**
1. 清空"文件类型过滤"输入框
2. 取消勾选"尊重 .gitignore 规则"
3. 重新选择文件夹

### 问题 3: Token 数量过大

**可能原因：**
- 包含了太多文件
- 包含了大型文件

**解决方案：**
1. 使用文件类型过滤（如 `ts,tsx,js,jsx`）
2. 只选择特定的子目录
3. 设置"最大 Token 限制"

### 问题 4: 无法复制到剪贴板

**可能原因：**
- 浏览器不支持剪贴板 API
- 没有授予剪贴板权限

**解决方案：**
1. 使用 HTTPS 或 localhost
2. 授予浏览器剪贴板权限
3. 使用"下载为文件"功能
4. 手动复制预览内容

### 问题 5: 拖拽不工作

**可能原因：**
- 浏览器不支持拖拽 API
- 拖拽的不是文件夹

**解决方案：**
1. 使用"选择文件夹"按钮
2. 确保拖拽的是文件夹而不是单个文件
3. 尝试不同的浏览器

## 浏览器兼容性

### ✅ 完全支持

- Chrome 86+
- Edge 86+
- Firefox 90+
- Safari 14+

### ⚠️ 部分支持

- 旧版浏览器可能不支持文件夹选择
- 某些功能可能需要 HTTPS

### ❌ 不支持

- Internet Explorer（所有版本）
- 非常旧的浏览器版本

## 调试步骤

### 1. 打开浏览器控制台

**Windows/Linux:**
- 按 `F12`
- 或右键 -> 检查

**Mac:**
- 按 `Cmd + Option + I`

### 2. 查看错误信息

在 Console 标签中查看是否有错误信息。

### 3. 常见错误信息

**错误: "Cannot read properties of undefined"**
- 已修复！请刷新页面（Ctrl+F5）

**错误: "Failed to read file"**
- 文件可能是二进制文件
- 文件可能被占用

**错误: "Clipboard write failed"**
- 使用"下载为文件"功能
- 或手动复制预览内容

## 性能问题

### 问题: 处理速度慢

**可能原因：**
- 文件数量太多
- 文件太大

**解决方案：**
1. 使用文件类型过滤
2. 只选择需要的子目录
3. 分批处理

### 问题: 浏览器卡顿

**可能原因：**
- 内存不足
- 文件太多

**解决方案：**
1. 关闭其他标签页
2. 减少文件数量
3. 使用 CLI 版本

## 数据安全

### Q: 我的代码会被上传吗？

**A: 不会！**
- ✅ 所有处理都在浏览器本地完成
- ✅ 不会发送任何数据到服务器
- ✅ 可以在离线状态下使用

### Q: 如何验证？

**A: 打开浏览器开发者工具**
1. 按 F12 打开开发者工具
2. 切换到 Network 标签
3. 选择文件夹并处理
4. 查看是否有网络请求（应该没有）

## 获取帮助

### 如果问题仍未解决

1. **查看文档**
   - [web/README.md](./README.md)
   - [WEB-FEATURES.md](../WEB-FEATURES.md)

2. **尝试 CLI 版本**
   ```bash
   node bin/code2prompt.js your-project -o output.txt
   ```

3. **提交 Issue**
   - 描述问题
   - 提供浏览器版本
   - 提供控制台错误信息

## 快速测试

### 测试 1: 基础功能

```
1. 启动 Web 界面
2. 拖拽你的项目文件夹
3. 查看统计信息
4. 点击"复制到剪贴板"
5. 应该显示"已复制！"
```

### 测试 2: 文件过滤

```
1. 拖拽项目文件夹
2. 在"文件类型过滤"输入: ts,tsx
3. 查看过滤后的文件数
4. 点击"复制到剪贴板"
```

### 测试 3: Token 限制

```
1. 拖拽项目文件夹
2. 在"最大 Token 限制"输入: 10000
3. 如果超过会显示警告
```

## 更新日志

### v0.1.1 (最新)
- ✅ 修复文件路径读取错误
- ✅ 改进错误处理
- ✅ 添加更多提示信息

### v0.1.0
- ✅ 初始版本
- ✅ 基础功能

---

**提示：** 如果遇到问题，先尝试刷新页面（Ctrl+F5）清除缓存。
